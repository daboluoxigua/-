(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed23105e"],{"167b":function(t,i,e){},"446a":function(t,i,e){"use strict";var a=e("167b"),n=e.n(a);n.a},a17e:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"addressList"},[e("div",{staticClass:"nav"},[e("div",{staticClass:"nav-left",on:{click:t.routerback}},[e("i",{staticClass:"iconfont"},[t._v("")])]),e("h2",[t._v("选择收货地址")]),e("div",{staticClass:"add",on:{click:function(i){t.addEdit("add")}}},[t._v("新增地址")])]),e("div",{ref:"list",staticClass:"list"},[e("div",{staticClass:"roll"},[t.available.length>0?e("div",[e("ul",t._l(t.available,function(i,a){return e("li",{key:a,on:{click:function(e){t.addSet(i)}}},[e("div",{staticClass:"address"},[t._v(t._s(i.address))]),e("div",{staticClass:"detailed"},[t._v(t._s(i.detail))]),e("div",{staticClass:"name"},[t._v(t._s(i.customer)+" "+t._s(i.phone))]),e("div",{staticClass:"icon-edit-1-copy iconfont edit",on:{click:function(e){e.stopPropagation(),t.addEdit(i)}}}),e("div",{staticClass:"icon-shanchu iconfont del",on:{click:function(e){e.stopPropagation(),t.del(i.id)}}})])}))]):t._e(),t.beyond.length>0?e("div",{staticClass:"split"}):t._e(),t.beyond.length>0?e("div",{staticClass:"beyond"},[e("h2",[t._v("以下地址超出配送范围")]),e("ul",t._l(t.beyond,function(i,a){return e("li",{key:a},[e("div",{staticClass:"address"},[t._v(t._s(i.address))]),e("div",{staticClass:"detailed"},[t._v(t._s(i.detail))]),e("div",{staticClass:"name"},[t._v(t._s(i.customer)+" "+t._s(i.phone))]),e("div",{staticClass:"icon-edit-1-copy iconfont edit",on:{click:function(e){t.addEdit(i)}}}),e("div",{staticClass:"icon-shanchu iconfont del",on:{click:function(e){t.del(i.id)}}})])}))]):t._e(),!t.beyond.length>0&&!t.available.length>0?e("div",{staticClass:"addnew",on:{click:function(i){t.addEdit("add")}}},[t._v("请添加收货地址")]):t._e()])]),e("el-amap",{staticClass:"amap"}),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},n=[],s=(e("ac6a"),e("28a5"),e("be94")),o=e("bc3a"),d=e.n(o),c=e("4328"),l=e.n(c),r=e("1fba"),u=e("54a1"),f=e("2f62"),v={data:function(){return{loading:!1,available:[],beyond:[]}},activated:function(){var t=this;this.getList(),this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new r["a"](t.$refs.list,{click:!0})})},methods:Object(s["a"])({},Object(f["c"])(["set_addressInfo"]),{routerback:function(){return window.history.length<=1?(this.$router.push({path:"/"}),!1):(this.$router.go(-1),!1)},getList:function(){var t=this;this.available=[],this.beyond=[];var i={appid:window.localStorage.getItem("appid"),storeid:window.localStorage.getItem("storeid"),customerid:window.sessionStorage.getItem("openid")};this.loading=!0,d.a.post("../../wx/getDeliverCustomerInfoByCustomerid",l.a.stringify(i)).then(function(i){if(t.loading=!1,0==i.data.result){var e=i.data.content,a=window.localStorage.getItem("point").split(",");AMap&&e.forEach(function(i){if(i.xy=JSON.parse(i.xy),i.xy instanceof Array){var e=AMap.GeometryUtil.distance(a,i.xy);e<3e3?t.available.push(i):t.beyond.push(i)}})}})},addEdit:function(t){this.$router.push({path:"/addressEdit",query:t})},del:function(t){var i=this,e={appid:window.localStorage.getItem("appid"),storeid:window.localStorage.getItem("storeid"),customerid:window.sessionStorage.getItem("openid"),id:t};d.a.post("../../wx/deleteDeliverCustomerInfo",l.a.stringify(e)).then(function(){i.getList()})},addSet:function(t){var i=this;this.update(t),this.set_addressInfo(t),setTimeout(function(){i.$router.go(-1)},500)},update:function(t){t.defaultCheck=1,t.xy=JSON.stringify(t.xy),d.a.post("../../wx/updateDeliverCustomerInfo",l.a.stringify(t))}}),components:{loading:u["default"]}},p=v,h=(e("446a"),e("2877")),g=Object(h["a"])(p,a,n,!1,null,"4f4d4d0a",null);g.options.__file="addressList.vue";i["default"]=g.exports},be94:function(t,i,e){"use strict";function a(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function n(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.forEach(function(i){a(t,i,e[i])})}return t}e.d(i,"a",function(){return n})}}]);